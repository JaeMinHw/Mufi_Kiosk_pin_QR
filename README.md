# cbnu_mufi

## 1. 파이썬 파일을 실행한다. 
 - 파이썬 파일은 사진 전송 및 인화기 출력 신호 주는 역할

### 파이썬 파일을 실행하기 위해서는 import 되어 있는 함수들을 다운받아야한다. 
 - Flask              2.1.2
 - Flask-Cors         3.0.10
 - flask-restx        0.5.1
 - psutil             5.9.2
 - cors               1.0.1
 - requests           2.28.1
 - pypiwin32          223
 - pywin32            304
 - pywinauto          0.6.8
 <br/>
 ## 2. cmd창에 npm install http-server 입력
 
 ## 3. 그 다음 npx http-server [포트 번호] -g를 입력한 후 파일을 선택한다.  
<br/>
<br/>
<br/>
<br/><br/>
<br/><br/>

## 주의사항 
 - 캐논 dslr을 사용하기 위해서는 EOS Utility를 설치해야 함
 - vscode를 사용하여 실행하였음. 다른 개발 환경에서는 확인해야함
 - 카메라 허용과 여러장의 사진을 다운 받는 것은 서버를 열고 실행 처음은 눌러줘야함. 한번 눌러주면 그 이후에는 뜨지 않음. 
 - 다운받았다는 아래 창이 뜨는 것을 막기 위해서는 확장 프로그램인 Always Clear Downloads를 설치해주어야 함.


이미지 파일 이름은 cb_frame1,cb_frame2식으로 png 형식임.



문제상황 해결방법

EOS 유틸리티 이슈 -> 드라이버 재설치 (윈도우키 +EOS Utility intall 검색 후 드라이버 재설치)

*카메라 연결 끊김(카메라 꺼짐) ->배터리 교체 (배터리는 상시 충전해야 됨)

*용지, 잉크부족 -> 인화기 부품교체 (웬만하면 바로 인쇄 가능 하지만 안되는 경우 kiosk 파일 들어가서 사진 찾은 후 ctrl+P, 세로모드, 장수설정 프린트)

사항의 경우, 그 다음 팀 잠시 대기시키고 추가로 수량 맞춰서 인쇄 후 재가동(사진 다운되는 폴더 열어두기)
다운로드 파일 오류(저장 위치 다운로드 폴더 일 때) -> 크롬에 들어가 설정-> 다운로드 위치 변경-> D드라이브 Kiosk_photo 폴더 혹은 파이썬 파일에서 사진 저장되는 폴더로 변경

카메라 및 태블릿 배터리 상시 확인

컴퓨터 다시 실행 했을 때 Vs code를 들어간다 Kiosk 폴더에 들어가져있다면 npx http-server 포트번호를 입력한다. 127.0.0.1 포트번호 주소를 컨트롤 누른 상태로 클릭한다 Kiosk_home.html을 들어간다

Jm modi.py 코드를 컨트롤 + f5를 눌러 실행한다

두가지 다 실행하면 준비는 완료된다

이미지 업로드 및 코드 수정이 일어나면 npx http-server 사용하지 않았던 포트번호를 눌러 입력한다 포트번호를 새로운 것으로 한다면 1번의 사이클을 돌려 설정을 해줘야한다 설정할 것들은 아래에 설명한다

크롬 설정에 들어가서 다운로드 위치를 확인한다 위치는 D://Kiosk_photo 이다
카메라 연결 허용을 허락해준다
사진 3장을 찍을 때 왼쪽 상단에 여러장 다운로드 허용 창이 뜬다 허용을 해준다
만약 사진촬영 도중에 에러가 발생한다면 사진 저장했던 파일 위치 (초기 : d://Kiosk_photo) 폴더에 들어가서 해당하는 핀번호 사진을 지워준다 안그러면 전에 찍은 사진이 인화된다.
